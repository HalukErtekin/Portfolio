---
title: Lithium-Ion Battery Aging Analysis
description: 23-month Stanford Energy Control Lab study modeling LIB capacity fade, impedance growth, anomalies, and SOH predictions with Random Forest + linear baselines.
slug: lithium-ion-battery-aging-analysis
locale: en
date: "2025-02-17"
published: true
---


## Overview

This study relies on 23 months of Stanford Energy Control Lab data to analyze lithium-ion battery capacity fade, impedance growth, and energy degradation. Advanced statistics, exploratory data analysis, anomaly detection, and machine learning combine to produce actionable State of Health (SOH) forecasts for BMS deployments, EV maintenance, and grid-scale storage diagnostics.

## Motivation

- Capacity fade, impedance growth, and thermal stress increase risk for EVs and stationary storage alike.
- Accurate SOH estimation informs warranty exposure, Remaining Useful Life planning, and chemistry R&D.
- The pipeline trains on real driving/charging patterns, yielding high-fidelity predictions grounded in field data.

## Dataset Description

Two complementary sources feed the models:

1. **Cycling dataset:** Captures charge/discharge behavior with voltage, current, temperature, capacity, step index, and test time across CC/CV charging and UDDS discharge profiles.
2. **Diagnostic dataset:** Periodic capacity tests, EIS, and HPPC sessions expose long-term degradation trends that daily cycling alone might miss.

## Exploratory Data Analysis

- **Voltage & Current:** Charging stabilizes around 4.20 V while current stays within controlled limits.
- **Capacity Decline:** Early formation loss appears as a sharp drop, followed by gradual stabilization.
- **Temperature:** Readings cluster near 23 Â deg C with spikes during high-load events.
- **Correlation:** Strong relationships such as Discharge Energy â†” Test Time and Voltage â†” Step Index guide feature engineering.
- **Anomaly Detection:** Isolation Forest flags abnormal voltage dips, thermal spikes, and irregular discharge episodes, improving downstream model reliability.

<div className="mt-6 flex flex-col gap-8 text-sm text-zinc-400">
	<div className="space-y-2">
		<Image
			src="/battery_aging_analysis/correlation-heatmap.png"
			alt="Correlation heatmap between major cycling variables"
			width={1200}
			height={900}
			data-caption="Heatmap exposing voltage, time, and energy interactions that drove feature selection."
		/>
	</div>
	<div className="space-y-2">
		<Image
			src="/battery_aging_analysis/outlier-detection.png"
			alt="Isolation Forest outlier detection chart"
			width={1200}
			height={900}
			data-caption="Isolation Forest sweep highlighting abnormal cycles removed before training."
		/>
	</div>
</div>

## Machine Learning Pipeline

Two prediction tasks drive the modeling:

1. **State of Health (SOH) Prediction**
2. **Discharge Energy (Wh) Prediction**

Features come from both cycling and diagnostic streams, focusing on signals with clear physical meaning.

### SOH Prediction (Random Forest)

- **Inputs:** Test time, voltage, current, and charge energy.
- **Performance:** RÂ^2â€¯=â€¯0.9875, MAEâ€¯=â€¯0.14, RMSEâ€¯=â€¯0.24.
- Ten-fold cross-validation confirms generalization, making the model ready for real-time BMS integration.

<div className="mt-6 space-y-2 text-sm text-zinc-400">
	<Image
		src="/battery_aging_analysis/soh-actual-vs-predicted.png"
		alt="SOH actual vs predicted chart"
		width={1600}
		height={900}
		data-caption="Random Forest estimates track measured SOH with sub-0.2% average error."
	/>
</div>

### Energy Prediction (Linear Regression)

Discharge energy is modeled as a linear combination of test time and step index:

```
E_discharge = Î^20 + Î^21 * TestTime + Î^22 * StepIndex
```

- **RÂ^2:** 0.7321
- **RMSE:** 3.04
- **MAE:** 2.37

This lightweight estimator gives fast energy forecasts for embedded systems.

### Clustering Analysis

K-Means segments cycles into three degradation profiles:

- **Cluster 1 â€“ Healthy:** Highest capacity and lowest temperature variance.
- **Cluster 2 â€“ Moderate Aging:** Predictable voltage behavior with mid-level degradation.
- **Cluster 3 â€“ Severe Aging:** Frequent voltage drops, thermal instability, and minimal capacity.

These clusters support targeted maintenance and replacement strategies.

## Key Findings

- The Random Forest SOH model surpasses published benchmarks with near-perfect accuracy.
- Test time, voltage, current, and step index emerge as dominant predictors.
- K-Means reveals distinct degradation behavior groups for proactive decision-making.
- Isolation Forest outlier removal boosts data quality and model trustworthiness.
- Even small temperature shifts correlate strongly with SOH decline, underscoring thermal management needs.

## Practical Applications

- **BMS:** Real-time SOH and Remaining Useful Life estimates with automated degradation alerts.
- **EV Fleets:** Predictive maintenance, range-accuracy improvements, and warranty optimization.
- **R&D & Manufacturing:** Early-cycle loss diagnostics, new chemistry evaluation, and improved formation processes.

## Conclusion

Combining statistical analysis, EDA, Random Forests, linear regression, clustering, and anomaly detection provides a full picture of lithium-ion battery aging. With RÂ^2â€¯=â€¯0.9875 on SOH predictions, the pipeline demonstrates how data-driven diagnostics can transform EV and industrial energy storage operations while laying a solid foundation for future predictive battery analytics.

## Summary

I built a comprehensive battery-aging analysis that ingests 23 months of cycling plus diagnostic data, models capacity fade and energy degradation with high-accuracy Random Forest and regression baselines, and pinpoints risky cycles via K-Means and Isolation Forest.




